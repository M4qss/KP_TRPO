Vasiliev_TRPO_KP_4195

CREATE TABLE Specialization
(
ID INT IDENTITY(1,1) PRIMARY KEY,
NAME VARCHAR(50)
)

CREATE TABLE Roles
(
ID INT IDENTITY(1,1) PRIMARY KEY,
NAME VARCHAR(50)
)

CREATE TABLE Staff
(
ID INT IDENTITY(1,1) PRIMARY KEY,
FIO VARCHAR (50) NOT NULL,
birth_date DATE,
specialization INT FOREIGN KEY REFERENCES Specialization(ID),
login VARCHAR(50) NOT NULL,
password VARCHAR(50) NOT NULL,
role INT FOREIGN KEY REFERENCES Roles(ID)
);

CREATE TABLE Patient
(
ID INT IDENTITY(1,1) PRIMARY KEY,
FIO VARCHAR(50) NOT NULL,
birth_date DATE,
phone_number VARCHAR(12),
address VARCHAR(100),
policy VARCHAR(16)
)

CREATE TABLE Reception
(
ID INT IDENTITY(1,1) PRIMARY KEY,
patient INT FOREIGN KEY REFERENCES Patient(ID),
dentist INT FOREIGN KEY REFERENCES Staff(ID),
date DATE NOT NULL,
time TIME
)

CREATE TABLE Entry
(
ID INT IDENTITY(1,1) PRIMARY KEY,
symptoms VARCHAR(MAX),
conclusion VARCHAR(MAX),
recomendation VARCHAR(MAX),
date DATE NOT NULL
)

CREATE TABLE Diagnosis
(
ID INT IDENTITY(1,1) PRIMARY KEY,
name VARCHAR(50) NOT NULL,
treatment VARCHAR(MAX)
)

CREATE TABLE _Procedure
(
ID INT IDENTITY(1,1) PRIMARY KEY,
name VARCHAR(50),
cost MONEY
)

CREATE TABLE Entry_diagnosis
(
entryID INT FOREIGN KEY REFERENCES Entry(ID) NOT NULL,
diagnosisID INT FOREIGN KEY REFERENCES Diagnosis(ID) NOT NULL,
status VARCHAR(50)
)

CREATE TABLE Procedure_entry
(
entryID INT FOREIGN KEY REFERENCES Entry(ID) NOT NULL,
procedureID INT FOREIGN KEY REFERENCES _Procedure(ID) NOT NULL,
execution_time INT,
payment_status VARCHAR(30) NOT NULL
)